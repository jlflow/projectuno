<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Health - SanctiFlow</title>
    <link rel="icon" type="image/x-icon" href="favicon.ico">
    <link rel="stylesheet" href="CSS/HEALTH.css">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
</head>
<body>
    <script src="auth-check.js"></script>
    <div class="page-wrapper">
        <div class="container">
            <div class="header">
                <h2 class="main-title">SanctiFlow</h2>
                <a href="home.html" class="back-link">‚Üê back</a>
            </div>

            <h1>HEALTH</h1>

            <div class="tracker-container">
                <table class="tracker-table"> <!-- Table  -->
                    <tr>
                        <th>Day</th>
                        <th>Sleep (hrs)</th>
                        <th>Weight (lbs)</th>
                        <th>Water (cups)</th>
                        <th>Steps / Mins</th>
                        <th>Mood (1-5)</th>
                        <th>Stress (1-5)</th>
                        <th>Symptoms</th>
                    </tr>
                    <tr data-day="1"><td class="day-number">1</td><td><input type="number" step="0.1" class="small-input"></td><td><input type="number" step="0.1" class="small-input"></td><td><input type="number" step="0.1" class="small-input"></td><td><input type="number" step="0.1" class="small-input"></td><td><input type="number" min="1" max="5" step="0.1" class="small-input"></td><td><input type="number" min="1" max="5" step="0.1" class="small-input"></td><td><input type="text" class="small-input"></td></tr>
                    <tr data-day="2"><td class="day-number">2</td><td><input type="number" step="0.1" class="small-input"></td><td><input type="number" step="0.1" class="small-input"></td><td><input type="number" step="0.1" class="small-input"></td><td><input type="number" step="0.1" class="small-input"></td><td><input type="number" min="1" max="5" step="0.1" class="small-input"></td><td><input type="number" min="1" max="5" step="0.1" class="small-input"></td><td><input type="text" class="small-input"></td></tr>
                    <tr data-day="3"><td class="day-number">3</td><td><input type="number" step="0.1" class="small-input"></td><td><input type="number" step="0.1" class="small-input"></td><td><input type="number" step="0.1" class="small-input"></td><td><input type="number" step="0.1" class="small-input"></td><td><input type="number" min="1" max="5" step="0.1" class="small-input"></td><td><input type="number" min="1" max="5" step="0.1" class="small-input"></td><td><input type="text" class="small-input"></td></tr>
                    <tr data-day="4"><td class="day-number">4</td><td><input type="number" step="0.1" class="small-input"></td><td><input type="number" step="0.1" class="small-input"></td><td><input type="number" step="0.1" class="small-input"></td><td><input type="number" step="0.1" class="small-input"></td><td><input type="number" min="1" max="5" step="0.1" class="small-input"></td><td><input type="number" min="1" max="5" step="0.1" class="small-input"></td><td><input type="text" class="small-input"></td></tr>
                    <tr data-day="5"><td class="day-number">5</td><td><input type="number" step="0.1" class="small-input"></td><td><input type="number" step="0.1" class="small-input"></td><td><input type="number" step="0.1" class="small-input"></td><td><input type="number" step="0.1" class="small-input"></td><td><input type="number" min="1" max="5" step="0.1" class="small-input"></td><td><input type="number" min="1" max="5" step="0.1" class="small-input"></td><td><input type="text" class="small-input"></td></tr>
                    <tr data-day="6"><td class="day-number">6</td><td><input type="number" step="0.1" class="small-input"></td><td><input type="number" step="0.1" class="small-input"></td><td><input type="number" step="0.1" class="small-input"></td><td><input type="number" step="0.1" class="small-input"></td><td><input type="number" min="1" max="5" step="0.1" class="small-input"></td><td><input type="number" min="1" max="5" step="0.1" class="small-input"></td><td><input type="text" class="small-input"></td></tr>
                    <tr data-day="7"><td class="day-number">7</td><td><input type="number" step="0.1" class="small-input"></td><td><input type="number" step="0.1" class="small-input"></td><td><input type="number" step="0.1" class="small-input"></td><td><input type="number" step="0.1" class="small-input"></td><td><input type="number" min="1" max="5" step="0.1" class="small-input"></td><td><input type="number" min="1" max="5" step="0.1" class="small-input"></td><td><input type="text" class="small-input"></td></tr>
                    <tr data-day="8"><td class="day-number">8</td><td><input type="number" step="0.1" class="small-input"></td><td><input type="number" step="0.1" class="small-input"></td><td><input type="number" step="0.1" class="small-input"></td><td><input type="number" step="0.1" class="small-input"></td><td><input type="number" min="1" max="5" step="0.1" class="small-input"></td><td><input type="number" min="1" max="5" step="0.1" class="small-input"></td><td><input type="text" class="small-input"></td></tr>
                    <tr data-day="9"><td class="day-number">9</td><td><input type="number" step="0.1" class="small-input"></td><td><input type="number" step="0.1" class="small-input"></td><td><input type="number" step="0.1" class="small-input"></td><td><input type="number" step="0.1" class="small-input"></td><td><input type="number" min="1" max="5" step="0.1" class="small-input"></td><td><input type="number" min="1" max="5" step="0.1" class="small-input"></td><td><input type="text" class="small-input"></td></tr>
                    <tr data-day="10"><td class="day-number">10</td><td><input type="number" step="0.1" class="small-input"></td><td><input type="number" step="0.1" class="small-input"></td><td><input type="number" step="0.1" class="small-input"></td><td><input type="number" step="0.1" class="small-input"></td><td><input type="number" min="1" max="5" step="0.1" class="small-input"></td><td><input type="number" min="1" max="5" step="0.1" class="small-input"></td><td><input type="text" class="small-input"></td></tr>
                    <tr data-day="11"><td class="day-number">11</td><td><input type="number" step="0.1" class="small-input"></td><td><input type="number" step="0.1" class="small-input"></td><td><input type="number" step="0.1" class="small-input"></td><td><input type="number" step="0.1" class="small-input"></td><td><input type="number" min="1" max="5" step="0.1" class="small-input"></td><td><input type="number" min="1" max="5" step="0.1" class="small-input"></td><td><input type="text" class="small-input"></td></tr>
                    <tr data-day="12"><td class="day-number">12</td><td><input type="number" step="0.1" class="small-input"></td><td><input type="number" step="0.1" class="small-input"></td><td><input type="number" step="0.1" class="small-input"></td><td><input type="number" step="0.1" class="small-input"></td><td><input type="number" min="1" max="5" step="0.1" class="small-input"></td><td><input type="number" min="1" max="5" step="0.1" class="small-input"></td><td><input type="text" class="small-input"></td></tr>
                    <tr data-day="13"><td class="day-number">13</td><td><input type="number" step="0.1" class="small-input"></td><td><input type="number" step="0.1" class="small-input"></td><td><input type="number" step="0.1" class="small-input"></td><td><input type="number" step="0.1" class="small-input"></td><td><input type="number" min="1" max="5" step="0.1" class="small-input"></td><td><input type="number" min="1" max="5" step="0.1" class="small-input"></td><td><input type="text" class="small-input"></td></tr>
                    <tr data-day="14"><td class="day-number">14</td><td><input type="number" step="0.1" class="small-input"></td><td><input type="number" step="0.1" class="small-input"></td><td><input type="number" step="0.1" class="small-input"></td><td><input type="number" step="0.1" class="small-input"></td><td><input type="number" min="1" max="5" step="0.1" class="small-input"></td><td><input type="number" min="1" max="5" step="0.1" class="small-input"></td><td><input type="text" class="small-input"></td></tr>
                    <tr data-day="15"><td class="day-number">15</td><td><input type="number" step="0.1" class="small-input"></td><td><input type="number" step="0.1" class="small-input"></td><td><input type="number" step="0.1" class="small-input"></td><td><input type="number" step="0.1" class="small-input"></td><td><input type="number" min="1" max="5" step="0.1" class="small-input"></td><td><input type="number" min="1" max="5" step="0.1" class="small-input"></td><td><input type="text" class="small-input"></td></tr>
                    <tr data-day="16"><td class="day-number">16</td><td><input type="number" step="0.1" class="small-input"></td><td><input type="number" step="0.1" class="small-input"></td><td><input type="number" step="0.1" class="small-input"></td><td><input type="number" step="0.1" class="small-input"></td><td><input type="number" min="1" max="5" step="0.1" class="small-input"></td><td><input type="number" min="1" max="5" step="0.1" class="small-input"></td><td><input type="text" class="small-input"></td></tr>
                    <tr data-day="17"><td class="day-number">17</td><td><input type="number" step="0.1" class="small-input"></td><td><input type="number" step="0.1" class="small-input"></td><td><input type="number" step="0.1" class="small-input"></td><td><input type="number" step="0.1" class="small-input"></td><td><input type="number" min="1" max="5" step="0.1" class="small-input"></td><td><input type="number" min="1" max="5" step="0.1" class="small-input"></td><td><input type="text" class="small-input"></td></tr>
                    <tr data-day="18"><td class="day-number">18</td><td><input type="number" step="0.1" class="small-input"></td><td><input type="number" step="0.1" class="small-input"></td><td><input type="number" step="0.1" class="small-input"></td><td><input type="number" step="0.1" class="small-input"></td><td><input type="number" min="1" max="5" step="0.1" class="small-input"></td><td><input type="number" min="1" max="5" step="0.1" class="small-input"></td><td><input type="text" class="small-input"></td></tr>
                    <tr data-day="19"><td class="day-number">19</td><td><input type="number" step="0.1" class="small-input"></td><td><input type="number" step="0.1" class="small-input"></td><td><input type="number" step="0.1" class="small-input"></td><td><input type="number" step="0.1" class="small-input"></td><td><input type="number" min="1" max="5" step="0.1" class="small-input"></td><td><input type="number" min="1" max="5" step="0.1" class="small-input"></td><td><input type="text" class="small-input"></td></tr>
                    <tr data-day="20"><td class="day-number">20</td><td><input type="number" step="0.1" class="small-input"></td><td><input type="number" step="0.1" class="small-input"></td><td><input type="number" step="0.1" class="small-input"></td><td><input type="number" step="0.1" class="small-input"></td><td><input type="number" min="1" max="5" step="0.1" class="small-input"></td><td><input type="number" min="1" max="5" step="0.1" class="small-input"></td><td><input type="text" class="small-input"></td></tr>
                    <tr data-day="21"><td class="day-number">21</td><td><input type="number" step="0.1" class="small-input"></td><td><input type="number" step="0.1" class="small-input"></td><td><input type="number" step="0.1" class="small-input"></td><td><input type="number" step="0.1" class="small-input"></td><td><input type="number" min="1" max="5" step="0.1" class="small-input"></td><td><input type="number" min="1" max="5" step="0.1" class="small-input"></td><td><input type="text" class="small-input"></td></tr>
                    <tr data-day="22"><td class="day-number">22</td><td><input type="number" step="0.1" class="small-input"></td><td><input type="number" step="0.1" class="small-input"></td><td><input type="number" step="0.1" class="small-input"></td><td><input type="number" step="0.1" class="small-input"></td><td><input type="number" min="1" max="5" step="0.1" class="small-input"></td><td><input type="number" min="1" max="5" step="0.1" class="small-input"></td><td><input type="text" class="small-input"></td></tr>
                    <tr data-day="23"><td class="day-number">23</td><td><input type="number" step="0.1" class="small-input"></td><td><input type="number" step="0.1" class="small-input"></td><td><input type="number" step="0.1" class="small-input"></td><td><input type="number" step="0.1" class="small-input"></td><td><input type="number" min="1" max="5" step="0.1" class="small-input"></td><td><input type="number" min="1" max="5" step="0.1" class="small-input"></td><td><input type="text" class="small-input"></td></tr>
                    <tr data-day="24"><td class="day-number">24</td><td><input type="number" step="0.1" class="small-input"></td><td><input type="number" step="0.1" class="small-input"></td><td><input type="number" step="0.1" class="small-input"></td><td><input type="number" step="0.1" class="small-input"></td><td><input type="number" min="1" max="5" step="0.1" class="small-input"></td><td><input type="number" min="1" max="5" step="0.1" class="small-input"></td><td><input type="text" class="small-input"></td></tr>
                    <tr data-day="25"><td class="day-number">25</td><td><input type="number" step="0.1" class="small-input"></td><td><input type="number" step="0.1" class="small-input"></td><td><input type="number" step="0.1" class="small-input"></td><td><input type="number" step="0.1" class="small-input"></td><td><input type="number" min="1" max="5" step="0.1" class="small-input"></td><td><input type="number" min="1" max="5" step="0.1" class="small-input"></td><td><input type="text" class="small-input"></td></tr>
                    <tr data-day="26"><td class="day-number">26</td><td><input type="number" step="0.1" class="small-input"></td><td><input type="number" step="0.1" class="small-input"></td><td><input type="number" step="0.1" class="small-input"></td><td><input type="number" step="0.1" class="small-input"></td><td><input type="number" min="1" max="5" step="0.1" class="small-input"></td><td><input type="number" min="1" max="5" step="0.1" class="small-input"></td><td><input type="text" class="small-input"></td></tr>
                    <tr data-day="27"><td class="day-number">27</td><td><input type="number" step="0.1" class="small-input"></td><td><input type="number" step="0.1" class="small-input"></td><td><input type="number" step="0.1" class="small-input"></td><td><input type="number" step="0.1" class="small-input"></td><td><input type="number" min="1" max="5" step="0.1" class="small-input"></td><td><input type="number" min="1" max="5" step="0.1" class="small-input"></td><td><input type="text" class="small-input"></td></tr>
                    <tr data-day="28"><td class="day-number">28</td><td><input type="number" step="0.1" class="small-input"></td><td><input type="number" step="0.1" class="small-input"></td><td><input type="number" step="0.1" class="small-input"></td><td><input type="number" step="0.1" class="small-input"></td><td><input type="number" min="1" max="5" step="0.1" class="small-input"></td><td><input type="number" min="1" max="5" step="0.1" class="small-input"></td><td><input type="text" class="small-input"></td></tr>
                    <tr data-day="29"><td class="day-number">29</td><td><input type="number" step="0.1" class="small-input"></td><td><input type="number" step="0.1" class="small-input"></td><td><input type="number" step="0.1" class="small-input"></td><td><input type="number" step="0.1" class="small-input"></td><td><input type="number" min="1" max="5" step="0.1" class="small-input"></td><td><input type="number" min="1" max="5" step="0.1" class="small-input"></td><td><input type="text" class="small-input"></td></tr>
                    <tr data-day="30"><td class="day-number">30</td><td><input type="number" step="0.1" class="small-input"></td><td><input type="number" step="0.1" class="small-input"></td><td><input type="number" step="0.1" class="small-input"></td><td><input type="number" step="0.1" class="small-input"></td><td><input type="number" min="1" max="5" step="0.1" class="small-input"></td><td><input type="number" min="1" max="5" step="0.1" class="small-input"></td><td><input type="text" class="small-input"></td></tr>
                    <tr data-day="31"><td class="day-number">31</td><td><input type="number" step="0.1" class="small-input"></td><td><input type="number" step="0.1" class="small-input"></td><td><input type="number" step="0.1" class="small-input"></td><td><input type="number" step="0.1" class="small-input"></td><td><input type="number" min="1" max="5" step="0.1" class="small-input"></td><td><input type="number" min="1" max="5" step="0.1" class="small-input"></td><td><input type="text" class="small-input"></td></tr>
                </table>
            </div>
        </div>
    </div>

    <script>
        // Function to save data to localStorage
        function saveData() {
            try {
                const table = document.querySelector('.tracker-table');
                const rows = table.querySelectorAll('tr[data-day]');
                const data = {};

                rows.forEach(row => {
                    const day = row.getAttribute('data-day');
                    const inputs = row.querySelectorAll('input');
                    data[day] = {
                        sleep: inputs[0].value,
                        weight: inputs[1].value,
                        water: inputs[2].value,
                        steps: inputs[3].value,
                        mood: inputs[4].value,
                        stress: inputs[5].value,
                        symptoms: inputs[6].value
                    };
                });

                localStorage.setItem('healthTrackerData', JSON.stringify(data));
                console.log('Data saved successfully:', data);
            } catch (error) {
                console.error('Error saving data:', error);
                alert('Failed to save data. Please check console for details.');
            }
        }

        // Function to load data from localStorage
        function loadData() {
            try {
                const savedData = localStorage.getItem('healthTrackerData');
                if (savedData) {
                    const data = JSON.parse(savedData);
                    const table = document.querySelector('.tracker-table');
                    const rows = table.querySelectorAll('tr[data-day]');

                    rows.forEach(row => {
                        const day = row.getAttribute('data-day');
                        if (data[day]) {
                            const inputs = row.querySelectorAll('input');
                            inputs[0].value = data[day].sleep || '';
                            inputs[1].value = data[day].weight || '';
                            inputs[2].value = data[day].water || '';
                            inputs[3].value = data[day].steps || '';
                            inputs[4].value = data[day].mood || '';
                            inputs[5].value = data[day].stress || '';
                            inputs[6].value = data[day].symptoms || '';
                        }
                    });
                    console.log('Data loaded successfully:', data);
                } else {
                    console.log('No saved data found in localStorage.');
                }
            } catch (error) {
                console.error('Error loading data:', error);
                alert('Failed to load data. Please check console for details.');
            }
        }

        // Load data when the page loads
        window.addEventListener('load', loadData);

        // Save data automatically when any input changes
        document.querySelectorAll('.small-input').forEach(input => {
            input.addEventListener('input', saveData);
        });
    </script>
</body>
</html>
